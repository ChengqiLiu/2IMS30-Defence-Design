from pyradioconfig.parts.bobcat.calculators.calc_global import Calc_Global_Bobcat
from pycalcmodel.core.variable import ModelVariableFormat
from py_2_and_3_compatibility import *

class Calc_Global_Viper(Calc_Global_Bobcat):
    def buildVariables(self, model):
            
        # Build variables from the Ocelot calculations
        super().buildVariables(model)

        self._addModelRegister(model, 'RAC.RX.SYPFDCHPLPENRX', int, ModelVariableFormat.HEX)

        self._addModelRegister(model, 'MODEM.CTRL5.DEC2',              int, ModelVariableFormat.HEX)

        self._addModelRegister(model, 'FEFILT0.CFG.DEC1'                  , int, ModelVariableFormat.HEX )
        self._addModelRegister(model, 'FEFILT0.CFG.CHFGAINREDUCTION'      , int, ModelVariableFormat.HEX )
        self._addModelRegister(model, 'FEFILT0.GAINCTRL.DEC1GAIN'              , int, ModelVariableFormat.HEX )
        self._addModelRegister(model, 'FEFILT0.GAINCTRL.BBSS'              , int, ModelVariableFormat.HEX )
        self._addModelRegister(model, 'FEFILT0.SRC2.SRC2RATIO',           int, ModelVariableFormat.HEX)
        self._addModelRegister(model, 'FEFILT0.SRC2.SRC2ENABLE',          int, ModelVariableFormat.HEX)        
        self._addModelRegister(model, 'FEFILT0.SRC2.UPGAPS',             int, ModelVariableFormat.HEX)
        self._addModelRegister(model, 'FEFILT0.GAINCTRL.DEC0GAIN', int, ModelVariableFormat.HEX)
        self._addModelRegister(model, 'FEFILT0.CHFCSDCOE00.SET0CSDCOEFF0', int, ModelVariableFormat.HEX)
        self._addModelRegister(model, 'FEFILT0.CHFCSDCOE00.SET0CSDCOEFF1', int, ModelVariableFormat.HEX)
        self._addModelRegister(model, 'FEFILT0.CHFCSDCOE00.SET0CSDCOEFF2', int, ModelVariableFormat.HEX)
        self._addModelRegister(model, 'FEFILT0.CHFCSDCOE00.SET0CSDCOEFF3', int, ModelVariableFormat.HEX)
        self._addModelRegister(model, 'FEFILT0.CHFCSDCOE01.SET0CSDCOEFF4', int, ModelVariableFormat.HEX)
        self._addModelRegister(model, 'FEFILT0.CHFCSDCOE01.SET0CSDCOEFF5', int, ModelVariableFormat.HEX)
        self._addModelRegister(model, 'FEFILT0.CHFCSDCOE01.SET0CSDCOEFF6', int, ModelVariableFormat.HEX)
        self._addModelRegister(model, 'FEFILT0.CHFCSDCOE02.SET0CSDCOEFF7', int, ModelVariableFormat.HEX)
        self._addModelRegister(model, 'FEFILT0.CHFCSDCOE02.SET0CSDCOEFF8', int, ModelVariableFormat.HEX)
        self._addModelRegister(model, 'FEFILT0.CHFCSDCOE02.SET0CSDCOEFF9', int, ModelVariableFormat.HEX)
        self._addModelRegister(model, 'FEFILT0.CHFCSDCOE03.SET0CSDCOEFF10', int, ModelVariableFormat.HEX)
        self._addModelRegister(model, 'FEFILT0.CHFCSDCOE03.SET0CSDCOEFF11', int, ModelVariableFormat.HEX)
        self._addModelRegister(model, 'FEFILT0.CHFCSDCOE10.SET1CSDCOEFF0', int, ModelVariableFormat.HEX)
        self._addModelRegister(model, 'FEFILT0.CHFCSDCOE10.SET1CSDCOEFF1', int, ModelVariableFormat.HEX)
        self._addModelRegister(model, 'FEFILT0.CHFCSDCOE10.SET1CSDCOEFF2', int, ModelVariableFormat.HEX)
        self._addModelRegister(model, 'FEFILT0.CHFCSDCOE10.SET1CSDCOEFF3', int, ModelVariableFormat.HEX)
        self._addModelRegister(model, 'FEFILT0.CHFCSDCOE11.SET1CSDCOEFF4', int, ModelVariableFormat.HEX)
        self._addModelRegister(model, 'FEFILT0.CHFCSDCOE11.SET1CSDCOEFF5', int, ModelVariableFormat.HEX)
        self._addModelRegister(model, 'FEFILT0.CHFCSDCOE11.SET1CSDCOEFF6', int, ModelVariableFormat.HEX)
        self._addModelRegister(model, 'FEFILT0.CHFCSDCOE12.SET1CSDCOEFF7', int, ModelVariableFormat.HEX)
        self._addModelRegister(model, 'FEFILT0.CHFCSDCOE12.SET1CSDCOEFF8', int, ModelVariableFormat.HEX)
        self._addModelRegister(model, 'FEFILT0.CHFCSDCOE12.SET1CSDCOEFF9', int, ModelVariableFormat.HEX)
        self._addModelRegister(model, 'FEFILT0.CHFCSDCOE13.SET1CSDCOEFF10', int, ModelVariableFormat.HEX)
        self._addModelRegister(model, 'FEFILT0.CHFCSDCOE13.SET1CSDCOEFF11', int, ModelVariableFormat.HEX)
        self._addModelRegister(model, 'FEFILT0.CHFCSDCOE00S.SET0CSDCOEFF0S', int, ModelVariableFormat.HEX)
        self._addModelRegister(model, 'FEFILT0.CHFCSDCOE00S.SET0CSDCOEFF1S', int, ModelVariableFormat.HEX)
        self._addModelRegister(model, 'FEFILT0.CHFCSDCOE00S.SET0CSDCOEFF2S', int, ModelVariableFormat.HEX)
        self._addModelRegister(model, 'FEFILT0.CHFCSDCOE00S.SET0CSDCOEFF3S', int, ModelVariableFormat.HEX)
        self._addModelRegister(model, 'FEFILT0.CHFCSDCOE00S.SET0CSDCOEFF4S', int, ModelVariableFormat.HEX)
        self._addModelRegister(model, 'FEFILT0.CHFCSDCOE00S.SET0CSDCOEFF5S', int, ModelVariableFormat.HEX)
        self._addModelRegister(model, 'FEFILT0.CHFCSDCOE00S.SET0CSDCOEFF6S', int, ModelVariableFormat.HEX)
        self._addModelRegister(model, 'FEFILT0.CHFCSDCOE01S.SET0CSDCOEFF7S', int, ModelVariableFormat.HEX)
        self._addModelRegister(model, 'FEFILT0.CHFCSDCOE01S.SET0CSDCOEFF8S', int, ModelVariableFormat.HEX)
        self._addModelRegister(model, 'FEFILT0.CHFCSDCOE01S.SET0CSDCOEFF9S', int, ModelVariableFormat.HEX)
        self._addModelRegister(model, 'FEFILT0.CHFCSDCOE01S.SET0CSDCOEFF10S', int, ModelVariableFormat.HEX)
        self._addModelRegister(model, 'FEFILT0.CHFCSDCOE01S.SET0CSDCOEFF11S', int, ModelVariableFormat.HEX)
        self._addModelRegister(model, 'FEFILT0.CHFCSDCOE10S.SET1CSDCOEFF0S', int, ModelVariableFormat.HEX)
        self._addModelRegister(model, 'FEFILT0.CHFCSDCOE10S.SET1CSDCOEFF1S', int, ModelVariableFormat.HEX)
        self._addModelRegister(model, 'FEFILT0.CHFCSDCOE10S.SET1CSDCOEFF2S', int, ModelVariableFormat.HEX)
        self._addModelRegister(model, 'FEFILT0.CHFCSDCOE10S.SET1CSDCOEFF3S', int, ModelVariableFormat.HEX)
        self._addModelRegister(model, 'FEFILT0.CHFCSDCOE10S.SET1CSDCOEFF4S', int, ModelVariableFormat.HEX)
        self._addModelRegister(model, 'FEFILT0.CHFCSDCOE10S.SET1CSDCOEFF5S', int, ModelVariableFormat.HEX)
        self._addModelRegister(model, 'FEFILT0.CHFCSDCOE10S.SET1CSDCOEFF6S', int, ModelVariableFormat.HEX)
        self._addModelRegister(model, 'FEFILT0.CHFCSDCOE11S.SET1CSDCOEFF7S', int, ModelVariableFormat.HEX)
        self._addModelRegister(model, 'FEFILT0.CHFCSDCOE11S.SET1CSDCOEFF8S', int, ModelVariableFormat.HEX)
        self._addModelRegister(model, 'FEFILT0.CHFCSDCOE11S.SET1CSDCOEFF9S', int, ModelVariableFormat.HEX)
        self._addModelRegister(model, 'FEFILT0.CHFCSDCOE11S.SET1CSDCOEFF10S', int, ModelVariableFormat.HEX)
        self._addModelRegister(model, 'FEFILT0.CHFCSDCOE11S.SET1CSDCOEFF11S', int, ModelVariableFormat.HEX)
        self._addModelRegister(model, 'FEFILT0.CFG.CHFCOEFFFWSWEN', int, ModelVariableFormat.HEX)
        self._addModelRegister(model, 'FEFILT0.CFG.CHFCOEFFFWSWSEL', int, ModelVariableFormat.HEX)
        self._addModelRegister(model, 'FEFILT0.CFG.CHFCOEFFSWEN', int, ModelVariableFormat.HEX)
        self._addModelRegister(model, 'FEFILT0.CFG.CHFCOEFFSWSEL', int, ModelVariableFormat.HEX)        
        self._addModelRegister(model, 'FEFILT0.DIGMIXCTRL.DIGIQSWAPEN'      , int, ModelVariableFormat.HEX )
        self._addModelRegister(model, 'FEFILT0.DIGMIXCTRL.DIGMIXFREQ',      int, ModelVariableFormat.HEX)
        self._addModelRegister(model, 'FEFILT0.DIGMIXCTRL.MIXERCONJ', int, ModelVariableFormat.HEX)
        self._addModelRegister(model, 'FEFILT0.DIGMIXCTRL.DIGMIXFBENABLE', int, ModelVariableFormat.HEX)
        self._addModelRegister(model, 'FEFILT0.DCCOMP.DCGAINGEAREN', int, ModelVariableFormat.HEX)
        self._addModelRegister(model, 'FEFILT0.DCCOMP.DCGAINGEAR', int, ModelVariableFormat.HEX)
        self._addModelRegister(model, 'FEFILT0.DCCOMP.DCGAINGEARSMPS', int, ModelVariableFormat.HEX)
        self._addModelRegister(model, 'FEFILT0.DCCOMP.DCESTIEN', int, ModelVariableFormat.HEX)
        self._addModelRegister(model, 'FEFILT0.DCCOMP.DCCOMPEN', int, ModelVariableFormat.HEX)
        self._addModelRegister(model, 'FEFILT0.DCCOMP.DCRSTEN', int, ModelVariableFormat.HEX)
        self._addModelRegister(model, 'FEFILT0.DCCOMP.DCCOMPFREEZE', int, ModelVariableFormat.HEX)
        self._addModelRegister(model, 'FEFILT0.DCCOMP.DCCOMPGEAR', int, ModelVariableFormat.HEX)
        self._addModelRegister(model, 'FEFILT0.DCCOMP.DCLIMIT', int, ModelVariableFormat.HEX)        
        self._addModelRegister(model, 'FEFILT0.DCCOMPFILTINIT.DCCOMPINITVALI', int, ModelVariableFormat.HEX)
        self._addModelRegister(model, 'FEFILT0.DCCOMPFILTINIT.DCCOMPINITVALQ', int, ModelVariableFormat.HEX)
        self._addModelRegister(model, 'FEFILT0.DCCOMPFILTINIT.DCCOMPINIT', int, ModelVariableFormat.HEX)

        self._addModelRegister(model, 'MODEM.TXCORR.TXDGAIN6DB', int, ModelVariableFormat.HEX)
        self._addModelRegister(model, 'MODEM.TXCORR.TXDGAIN', int, ModelVariableFormat.HEX)
        self._addModelRegister(model, 'MODEM.TXCORR.TXGAINIMB', int, ModelVariableFormat.HEX)
        self._addModelRegister(model, 'MODEM.TXCORR.TXPHSIMB', int, ModelVariableFormat.HEX)
        self._addModelRegister(model, 'MODEM.TXCORR.TXFREQCORR', int, ModelVariableFormat.HEX)

        self._addModelRegister(model, 'MODEM.TXMISC.FORCECLKEN', int, ModelVariableFormat.HEX)
        self._addModelRegister(model, 'MODEM.TXMISC.TXIQIMBEN', int, ModelVariableFormat.HEX)
        self._addModelRegister(model, 'MODEM.TXMISC.TXINTPEN', int, ModelVariableFormat.HEX)
        self._addModelRegister(model, 'MODEM.TXMISC.TXDSEN', int, ModelVariableFormat.HEX)
        self._addModelRegister(model, 'MODEM.TXMISC.TXIQSWAP', int, ModelVariableFormat.HEX)
        self._addModelRegister(model, 'MODEM.TXMISC.TXDACFORMAT', int, ModelVariableFormat.HEX)
        self._addModelRegister(model, 'MODEM.TXMISC.TXDACFORCE', int, ModelVariableFormat.HEX)
        self._addModelRegister(model, 'MODEM.TXMISC.TXDCI', int, ModelVariableFormat.HEX)
        self._addModelRegister(model, 'MODEM.TXMISC.TXDCQ', int, ModelVariableFormat.HEX)
        self._addModelRegister(model, 'MODEM.TXMISC.BR2M', int, ModelVariableFormat.HEX)

        self._addModelVariable(model, 'br2m', int, ModelVariableFormat.DECIMAL)

        self._addModelActual(model, 'shaping_filter_gain_iqmod', float, ModelVariableFormat.DECIMAL)

    def _add_SHAPING_regs(self, model):
        self._addModelRegister(model, 'MODEM.SHAPING2.COEFF9', int, ModelVariableFormat.HEX)
        self._addModelRegister(model, 'MODEM.SHAPING2.COEFF10'	, int, ModelVariableFormat.HEX )
        self._addModelRegister(model, 'MODEM.SHAPING2.COEFF11'	         , int, ModelVariableFormat.HEX )
        self._addModelRegister(model, 'MODEM.SHAPING3.COEFF12'	         , int, ModelVariableFormat.HEX )
        self._addModelRegister(model, 'MODEM.SHAPING3.COEFF13'	         , int, ModelVariableFormat.HEX )
        self._addModelRegister(model, 'MODEM.SHAPING3.COEFF14'	         , int, ModelVariableFormat.HEX )
        self._addModelRegister(model, 'MODEM.SHAPING3.COEFF15'	         , int, ModelVariableFormat.HEX )

    def _add_MODEM_RXRESTART(self, model):
        self._addModelRegister(model, 'MODEM.RXRESTART.RXRESTARTB4PREDET', int, ModelVariableFormat.HEX)
        self._addModelRegister(model, 'MODEM.RXRESTART.RXRESTARTMATAP', int, ModelVariableFormat.HEX)
        self._addModelRegister(model, 'MODEM.RXRESTART.RXRESTARTMALATCHSEL', int, ModelVariableFormat.HEX)
        self._addModelRegister(model, 'MODEM.RXRESTART.RXRESTARTMACOMPENSEL', int, ModelVariableFormat.HEX)
        self._addModelRegister(model, 'MODEM.RXRESTART.RXRESTARTMATHRESHOLD', int, ModelVariableFormat.HEX)
        self._addModelRegister(model, 'MODEM.RXRESTART.RXRESTARTUPONMARSSI', int, ModelVariableFormat.HEX)

    def _add_TXBR_regs(self, model):
        self._addModelRegister(model, 'MODEM.TXBR.TXBRNUM', int, ModelVariableFormat.HEX)
